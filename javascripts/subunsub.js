$.ready().then(function(){var e=function(e,s,r){var t=document.getElementById(e);t.innerHTML=r,t.classList.remove("newsletterform_alert-error"),t.classList.remove("newsletterform_alert-success"),t.classList.add("newsletterform_alert-"+s),t.setAttribute("aria-hidden","false")},s=function(e){var s=document.getElementById(e);s.innerHTML="&nbsp;",s.classList.remove("newsletterform_alert-error"),s.classList.remove("newsletterform_alert-success"),s.setAttribute("aria-hidden","true")},r=function(e){var s,r,t=[];if("object"==typeof e&&"FORM"==e.nodeName)for(var n=e.elements.length,a=0;n>a;a++)if(s=e.elements[a],s.name&&!s.disabled&&"file"!=s.type&&"reset"!=s.type&&"submit"!=s.type&&"button"!=s.type)if("select-multiple"==s.type){r=e.elements[a].options.length;for(var i=0;r>i;i++)s.options[i].selected&&(t[t.length]=encodeURIComponent(s.name)+"="+encodeURIComponent(s.options[i].value))}else("checkbox"!=s.type&&"radio"!=s.type||s.checked)&&(t[t.length]=encodeURIComponent(s.name)+"="+encodeURIComponent(s.value));return t.join("&").replace(/%20/g,"+")},t=function(s){return function(t){var n=$(this);if(n.classList.contains("sib_processing"))return!1;var a=$("input[type='email']",n),i=a.getAttribute("data-msg-empty"),o=a.getAttribute("data-msg-invalid");if(""==a.value?(a.classList.add("error"),e("form-alert","error",i)):/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(a.value)?a.classList.remove("error"):(a.classList.add("error"),e("form-alert","error",o)),!a.classList.contains("error")){var l=n.getAttribute("action"),c=r(n),u=$("#loading-gif",n.parentNode);null!=u&&(u.style.display="block"),n.classList.add("sib_processing"),n.style.opacity="0.5",$.fetch(l,{method:"POST",data:c,responseType:"json"}).then(function(r){var t=r.response.result,n=$(".sib_processing");if(null!=u&&(u.style.display="none"),n.style.opacity="1",void 0!=t){var i=s(t,n,a);e("form-alert","success"==t.result?"success":"error",i),n.classList.remove("sib_processing")}})["catch"](function(e){console.error(e,"code: "+e.status)})}return!1}},n=$("#unsubscribe-form");void 0!=n&&(n.onsubmit=t(function(e,s,r){var t="";return"success"==e.result?(t+=e.succcess_msg,s.style.display="none"):"already_blacked"==e.result?(t+=e.already_msg,s.style.display="none"):"invalid_request"==e.result||"reqMiss"==e.result?(t+=e.invalid_err_msg,r.classList.add("error")):"invalidEmail"==e.result?(t+=e.general_err_msg,r.classList.add("error")):(t+=e.general_err_msg,r.classList.add("error")),t})),$("#subscribe-form").onsubmit=t(function(e,s,r){var t="";return"success"==e.result?t+=e.succcess_msg:"emailExist"==e.result?t+=e.exist_err_msg:"invalid_request"==e.result||"invalidEmail"==e.result?(t+=e.invalid_err_msg,r.classList.add("error")):"reqMiss"==e.result?(t+=e.general_err_msg,r.classList.add("error")):(t+=e.general_err_msg,r.classList.add("error")),t}),$$("input")._.addEventListener("focus",function(){$(this).classList.contains("error")&&$(this).classList.remove("error"),s("form-alert")})});